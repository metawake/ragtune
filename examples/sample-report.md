# Sample RagTune Report

> This is an example of what `ragtune report` generates. Use this to understand output format before running the tool.

---

## RAG Retrieval Quality Report

**Collection:** `prod-docs`  
**Run ID:** `2025-01-09T14-30-00Z`  
**Queries:** 87  
**Embedder:** `openai` (text-embedding-3-small)  
**Chunk Size:** 512  

---

## Summary

| Metric | Value | Threshold | Status |
|--------|-------|-----------|--------|
| **Recall@5** | 0.89 | 0.85 | ✅ PASS |
| **MRR** | 0.81 | 0.70 | ✅ PASS |
| **Coverage** | 0.94 | 0.90 | ✅ PASS |

**Overall Status:** ✅ HEALTHY

---

## Latency

| Percentile | Value |
|------------|-------|
| p50 | 42ms |
| p95 | 118ms |
| p99 | 187ms |

---

## Query Breakdown

### Top Performing Queries (Recall = 1.0)

| Query | MRR | Top Result Score |
|-------|-----|------------------|
| "How do I reset my password?" | 1.00 | 0.92 |
| "What are the rate limits?" | 1.00 | 0.89 |
| "How to configure webhooks" | 1.00 | 0.91 |
| "Authentication flow overview" | 1.00 | 0.87 |

### Underperforming Queries (Recall < 0.5)

| Query | Recall | MRR | Issue |
|-------|--------|-----|-------|
| "SAML SSO setup" | 0.40 | 0.33 | Relevant doc not in top-5 |
| "OAuth token refresh" | 0.20 | 0.20 | Low similarity scores |
| "Billing dispute process" | 0.00 | 0.00 | No relevant docs retrieved |

### Recommendations

1. **"Billing dispute process"** — Check if `docs/billing/disputes.md` exists and contains relevant content. Consider increasing chunk size or adding synonyms.

2. **"OAuth token refresh"** — Low scores suggest vocabulary mismatch. The query uses "refresh" but docs may say "renew" or "regenerate".

3. **"SAML SSO setup"** — Relevant content found at rank 7. Consider increasing `--top-k` to 10 for complex topics.

---

## Score Distribution

```
Score Range    | Count | Percentage
---------------|-------|------------
0.90 - 1.00    |   142 |  32.6%
0.80 - 0.90    |   187 |  42.9%
0.70 - 0.80    |    78 |  17.9%
0.60 - 0.70    |    21 |   4.8%
< 0.60         |     7 |   1.6%
```

---

## Configuration Used

```yaml
collection: prod-docs
embedder: openai
chunk_size: 512
chunk_overlap: 64
top_k: 5
store: qdrant
```

---

## Reproducing This Run

```bash
# Re-run with same configuration
ragtune simulate \
  --collection prod-docs \
  --queries golden-queries.json \
  --embedder openai \
  --top-k 5

# Generate this report
ragtune report --input runs/2025-01-09T14-30-00Z.json --format markdown
```

---

## Audit Output (Pass/Fail Format)

For quick CI checks, use `ragtune audit`:

```
╔════════════════════════════════════════════════════════════════╗
║  RAG HEALTH REPORT: prod-docs                                  ║
╠════════════════════════════════════════════════════════════════╣
║  Queries:     87                                               ║
╠════════════════════════════════════════════════════════════════╣
║  Recall@K:    0.89  ✓ PASS  (threshold: 0.85)                  ║
║  MRR:         0.81  ✓ PASS  (threshold: 0.70)                  ║
║  Coverage:    0.94  ✓ PASS  (threshold: 0.90)                  ║
║  Latency p95: 118ms ✓ PASS  (threshold: 500ms)                 ║
╠════════════════════════════════════════════════════════════════╣
║  STATUS: ✅ HEALTHY                                            ║
╚════════════════════════════════════════════════════════════════╝
```

---

## Compare Output (Side-by-Side Format)

For configuration comparison, use `ragtune compare`:

```
╔══════════════════════════════════════════════════════════════════════════╗
║  COMPARISON: 3 configurations                                            ║
╠══════════════════════════════════════════════════════════════════════════╣
║  Collection      │ Recall@5 │ MRR   │ Coverage │ p95     │ Winner        ║
╠══════════════════════════════════════════════════════════════════════════╣
║  prod-256        │ 0.72     │ 0.65  │ 0.88     │ 35ms    │               ║
║  prod-512        │ 0.89     │ 0.81  │ 0.94     │ 42ms    │ ← BEST        ║
║  prod-1024       │ 0.85     │ 0.78  │ 0.91     │ 51ms    │               ║
╚══════════════════════════════════════════════════════════════════════════╝

Recommendation: prod-512 provides best balance of recall and latency.
```

---

*Generated by RagTune v0.5.0*
